{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'shop/css/shop.css' %}">

{% endblock %}

{% block content%}
<div class="container content-container border">
    <h1 class="text-center header-font page-header">SHOP</h1>
    <p class="text-center text-muted">Free delivery on orders over £25</p>
    <hr>
    <form action="{% url 'shop' %}" method="POST" class="d-flex justify-content-center sort-by-form mb-3 mt-2">
        {% csrf_token %}
        <input type="radio" id="all" name="filter" value="all" class="d-none">
        <label for="all" class="btn custom-btn btn-outline-dark {% if all %} active {% endif %}">ALL</label><br>
        <input type="radio" id="music" name="filter" value="music" class="d-none">
        <label for="music" class="btn custom-btn btn-outline-dark {% if music %} active {% endif %}">MUSIC</label><br>
        <input type="radio" id="clothing" name="filter" value="clothing" class="d-none">
        <label for="clothing" class="btn custom-btn btn-outline-dark {% if clothing %} active {% endif %}">CLOTHING</label><br>
        <input type="radio" id="other" name="filter" value="other" class="d-none">
        <label for="other" class="btn custom-btn btn-outline-dark {% if other %} active {% endif %}">OTHER</label><br>
    </form>
    <div class="row">
        {% if albums %}
        {% for album in albums %}
        <div class="col-12 col-md-6 col-lg-4">
            <a href="{% url 'shop_detail' 'album' album.id %}">
                <img src="{{ MEDIA_URL }}{{ album.image.url }}" alt="The artwork for the album {{ album.title }}"
                    class="w-95">
                <h6 class="album-names text-center">{{ album.title }} ({{ album.year }})</h6>
                <p class="text-muted text-center">from £{{ album.cd_price}}</p>
            </a>
        </div>
        <!-- HR FOR LOOP LOGIC MODIFIED FROM BOUTIQUE ADO PROJECT - CREDIT -->
        {% if forloop.counter|divisibleby:1 %}
        <div class="col-12 d-md-none mb-5">
            <hr>
        </div>
        {% endif %}
        {% if forloop.counter|divisibleby:2 %}
        <div class="col-12 d-none d-md-block d-lg-none mb-5">
            <hr>
        </div>
        {% endif %}
        {% if forloop.counter|divisibleby:3 %}
        <div class="col-12 d-none d-lg-block mb-5">
            <hr>
        </div>
        {% endif %}
        {% endfor %}
        {% endif %}
    </div>
    <div class="row">
        {% if products %}
        {% for product in products %}
        <div class="col-12 col-md-6 col-lg-4">
            <a href="{% url 'shop_detail' 'product' product.id %}">
                <img src="{{ MEDIA_URL }}{{ product.image.url }}" alt="A picture of the {{ product.name }}"
                    class="w-95">
                <h6 class="album-names text-center">{{ product.name }}</h6>
                <p class="text-muted text-center">£{{ product.price}}</p>
            </a>
        </div>
        <!-- HR FOR LOOP LOGIC MODIFIED FROM BOUTIQUE ADO PROJECT - CREDIT -->
        {% if forloop.counter|divisibleby:1 %}
        <div class="col-12 d-md-none mb-5">
            <hr>
        </div>
        {% endif %}
        {% if forloop.counter|divisibleby:2 %}
        <div class="col-12 d-none d-md-block d-lg-none mb-5">
            <hr>
        </div>
        {% endif %}
        {% if forloop.counter|divisibleby:3 %}
        <div class="col-12 d-none d-lg-block mb-5">
            <hr>
        </div>
        {% endif %}
        {% endfor %}
        {% endif %}
    </div>
</div>
{% endblock %}
{% block postloadjs %}
{{ block.super }}
<script src="{% static 'shop/js/shop.js' %}"></script>
{% endblock %}