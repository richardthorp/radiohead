{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'shop/css/shop.css' %}">

{% endblock %}

{% block content%}
<div class="container content-container border">
    <h1 class="text-center header-font page-header">{{ album.title }}</h1>
    <a href="{% url 'shop' %}"><i class="fas fa-backward"></i> Back to shop</a>
    {% if user.is_staff %}
    <div class="row">
        <div class="col-12 custom-border p-2 my-3">
            <h6 class="header-font text-center">Would you like to edit or delete this product?</h6>
            <div class="d-flex justify-content-center">
                <a href="{% url 'edit_product' 'album' album.id %}" class="btn btn-dark custom-btn mr-2">Edit Product</a>
                <a href="" class="btn btn-danger custom-btn ml-2">Delete Product</a>
            </div>
        </div>
    </div>
    {% endif %}
    <div class="row mt-2">
        <div class="col-12 col-lg-6">
            <img src="{{ album.image.url }}" alt="The artwork for the album {{ album.title }}"
                class="w-100 mx-auto">
        </div>
        <div class="col-12 col-lg-6">
            <!-- <p class="mb-1 mt-2 mt-lg-0">Format:</p> -->
            <form action="{% url 'add_to_bag' album.id %}" method="POST">
                {% csrf_token %}
                <label for="format" class="shop-label mt-3 mt-lg-0">Choose Format:</label>
                <select id="format" name="format" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" required>
                    <option value="" selected>Please choose a format</option>
                    <option value="cd">CD : £{{ album.cd_price }}</option>
                    <option value="vinyl">Vinyl : £{{ album.vinyl_price }}</option>
                </select>
                <label for="quantity" class="shop-label">Quantity:</label>
                <input type="number" name="quantity" id="quantity" value="1" min="1" max="99">
                <button type="submit" class="btn custom-btn btn-dark d-block my-4">ADD TO BASKET</button>
            </form>
            <hr>
            <p>Tracklist:</p>
            {% for num, track in album.tracklist.items %}
            <p class="my-0">{{ num }}: {{ track }}</p>
            {% endfor %}
        </div>
    </div>


</div>
{% endblock %}